<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Methadata 2020: VESPUCCI Exercise n° 2 • pyCOMPASSR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Methadata 2020: VESPUCCI Exercise n° 2">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">pyCOMPASSR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../articles/pyCOMPASSR.html">Get started</a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/Tutorials/Methada2020_1.html">Methada 2020: VESPUCCI exercise n° 1</a>
    </li>
    <li>
      <a href="../../articles/Tutorials/Methada2020_2.html">Methadata 2020: VESPUCCI Exercise n° 2</a>
    </li>
    <li>
      <a href="../../articles/Tutorials/python_examples.html">Python test</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/onertipaday/pyCOMPASSR">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Methadata 2020: VESPUCCI Exercise n° 2</h1>
                        <h4 class="author">Paolo Sonego</h4>
            
            <h4 class="date">2/14/2020</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/onertipaday/pyCOMPASSR/blob/master/vignettes/Tutorials/Methada2020_2.Rmd"><code>vignettes/Tutorials/Methada2020_2.Rmd</code></a></small>
      <div class="hidden name"><code>Methada2020_2.Rmd</code></div>

    </div>

    
    
<p>In this second excercise we will use a different normalization technique, the TPM (Transcript Per Million) and show how it is easy to perform analysis outside the VESPUCCI toolbox. We will collect samples from leaf and fruit and fit a Gaussian Mixture Model to both the log-TPM distribution in order to estimate an expression cut-off. Then we will look for genes uniquely expressed in one tissue (fruit) based on the chosen cut-off.</p>
<pre><code>%%html
&lt;script src="https://cdn.plot.ly/plotly-latest.min.js"&gt;&lt;/script&gt;</code></pre>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pyCOMPASSR)</a></code></pre></div>
<p>Create a Connect object and pass it the URL to point it to the COMPASS GraphQL endpoint</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co">#my_conn &lt;- get_connection(url = 'http://compass.fmach.it/graphql')</span></a></code></pre></div>
<p>Since COMPASS is our interface to (possibily) many compendium, we’ll list all of them and select the one we are interested in, i.e. VITIS_VINIFERA</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co">#vv_compendium &lt;- my_conn$connection$get_compendium('vitis_vinifera')</span></a></code></pre></div>
<div id="lets-get-all-samples-that-has-been-annotated-using-the-term-po_0025034-leaf" class="section level2">
<h2 class="hasAnchor">
<a href="#lets-get-all-samples-that-has-been-annotated-using-the-term-po_0025034-leaf" class="anchor"></a>Let’s get all samples that has been annotated using the term PO_0025034 (LEAF)¶</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="co">#leaf_samples = Sample.using(vv_compendium).get(filter={'annotationOntologyId': 'PO_0025034'})</span></a></code></pre></div>
</div>
<div id="show-the-annotation-in-triples-for-the-first-sample-just-to-show-that-it-is-actually-a-leaf-sample" class="section level2">
<h2 class="hasAnchor">
<a href="#show-the-annotation-in-triples-for-the-first-sample-just-to-show-that-it-is-actually-a-leaf-sample" class="anchor"></a>Show the annotation in triples for the first sample just to show that it is actually a leaf sample</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co">#Annotation(leaf_samples[0]).get_triples()</span></a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#lets-get-all-samples-that-has-been-annotated-using-the-term-po_0025034-leaf">Let’s get all samples that has been annotated using the term PO_0025034 (LEAF)¶</a></li>
      <li><a href="#show-the-annotation-in-triples-for-the-first-sample-just-to-show-that-it-is-actually-a-leaf-sample">Show the annotation in triples for the first sample just to show that it is actually a leaf sample</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Marco Moretto, Paolo Sonego.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
